webpackJsonp([0],{"3Y79":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=firebase.database().ref("/chatData/"),i={name:"chatRoom",components:{},data:function(){return{tempMessage:"",username:"",message:"",messages:[]}},methods:{submitMessage:function(){var e=this,t=Math.floor(Date.now());if(!(!e.tempMessage|!e.username)){var s,i,r=(s=t,(i=new Date).setTime(s),i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds());a.child(t).set({time:r,username:e.username,message:e.tempMessage}),e.tempMessage=""}}},mounted:function(){var e=this;a.orderByChild("timestamp").on("value",function(t){var s=t.val();e.messages=s})},computed:{},updated:function(){var e=document.querySelector("#js-scroll");e.scrollTop=e.scrollHeight}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chatRoom py-4"},[e._m(0),e._v(" "),s("div",{staticClass:"container d-flex flex-column justify-content-between h-100"},[s("div",{staticClass:"showInfo mb-3",attrs:{id:"js-scroll"}},[s("ul",{staticClass:"list-group"},e._l(e.messages,function(t){return s("li",{key:t.id,staticClass:"list-group-item"},[t.username==e.username?s("div",[s("p",{staticClass:"badge badge-primary ml-auto"},[e._v(e._s(t.username))]),e._v(" "),s("p",{staticClass:"text-right"},[e._v(e._s(t.message))])]):e._e(),e._v(" "),t.username!==e.username?s("div",[s("p",{staticClass:"badge badge-info mr-auto"},[e._v(e._s(t.username))]),e._v(" "),s("p",{staticClass:"text-left"},[e._v(e._s(t.message))])]):e._e(),e._v(" "),s("p",{staticClass:"text-right"},[s("small",[e._v(e._s(t.time))])])])}))]),e._v(" "),s("form",{staticClass:"mt-auto"},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"inputName",placeholder:"輸入暱稱"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tempMessage,expression:"tempMessage"}],staticClass:"form-control",attrs:{type:"text",id:"inputInfo",placeholder:"請輸入訊息"},domProps:{value:e.tempMessage},on:{input:function(t){t.target.composing||(e.tempMessage=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form-group col-md-2"},[s("button",{staticClass:"btn btn-primary w-100 font-weight-bold",attrs:{type:"submit"},on:{click:function(t){e.submitMessage()}}},[e._v("送 出")])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mb-3"},[t("h1",{},[this._v("Chat Room")]),this._v(" "),t("p",{staticClass:"text-primary h3 text-center"},[this._v("請輸入暱稱和大家一起聊天吧")])])}]};var n=s("VU/8")(i,r,!1,function(e){s("kz39")},"data-v-204bf487",null);t.default=n.exports},kz39:function(e,t){}});
//# sourceMappingURL=0.f7865961d4b0e3591ec1.js.map